<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ready to Go</title>

<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #111;
        color: #fff;
        text-align: center;
    }

    h1 {
        color: #000;
        background: #87ceeb;
        padding: 15px;
        margin: 0;
    }

    .container {
        max-width: 900px;
        margin: auto;
        padding: 20px;
    }

    select {
        padding: 8px;
        margin: 10px;
    }

    .meter {
        width: 100%;
        height: 25px;
        border: 2px solid #000;
        margin: 20px 0;
    }

    .meter-fill {
        height: 100%;
        width: 100%;
        background: linear-gradient(
            to right,
            #00faff,
            #0f0,
            #ff0,
            #f00
        );
        transition: width 0.3s;
    }

    .vehicle {
        margin: 30px auto;
        width: 300px;
        height: 120px;
        border: 3px solid #000;
        position: relative;
        transform-origin: center;
        transition: transform 0.4s;
        background: #222;
    }

    .part {
        position: absolute;
        width: 40px;
        height: 40px;
        background: orange;
        top: 40px;
    }

    .part.left { left: 20px; }
    .part.right { right: 20px; }

    button {
        padding: 10px 15px;
        margin: 6px;
        cursor: pointer;
    }

    @keyframes shake {
        0% { transform: rotate(0deg); }
        25% { transform: rotate(2deg); }
        50% { transform: rotate(-2deg); }
        75% { transform: rotate(1deg); }
        100% { transform: rotate(0deg); }
    }

    @keyframes pulse {
        0% { box-shadow: 0 0 0 red; }
        50% { box-shadow: 0 0 15px red; }
        100% { box-shadow: 0 0 0 red; }
    }

    .critical {
        animation: shake 0.4s infinite;
    }

    .meter-critical {
        animation: pulse 1s infinite;
    }

    .status {
        font-size: 18px;
        margin-top: 15px;
    }
</style>
</head>

<body>

<h1>READY TO GO</h1>

<div class="container">

    <select onchange="changeMap(this.value)">
        <option value="void">Void Platform</option>
        <option value="storm">Storm Zone</option>
        <option value="junk">Junk Orbit</option>
    </select>

    <div class="meter">
        <div id="meterFill" class="meter-fill"></div>
    </div>
    <p>Readiness Meter</p>

    <div id="vehicle" class="vehicle">
        <div class="part left"></div>
        <div class="part right"></div>
    </div>

    <div>
        <button onclick="addWeight()">Add Heavy Part</button>
        <button onclick="rebalance()">Rebalance</button>
        <button onclick="sabotage()">Sleeper Action</button>
        <button onclick="startVoyage()">Start Go Phase</button>
    </div>

    <div class="status" id="statusText">Status: Stable</div>
    <p id="streakText"></p>

</div>

<script>
    let readiness = 100;
    let tilt = 0;

    const meterFill = document.getElementById("meterFill");
    const vehicle = document.getElementById("vehicle");
    const statusText = document.getElementById("statusText");

    function updateUI() {
        readiness = Math.max(0, Math.min(100, readiness));
        meterFill.style.width = readiness + "%";
        vehicle.style.transform = `rotate(${tilt}deg)`;

        if (readiness < 30 || Math.abs(tilt) > 30) {
            vehicle.classList.add("critical");
            meterFill.classList.add("meter-critical");
            statusText.innerText = "âš  Critical Instability";
        } else {
            vehicle.classList.remove("critical");
            meterFill.classList.remove("meter-critical");
            statusText.innerText = "Status: Stable";
        }
    }

    function addWeight() {
        tilt += 10;
        readiness -= 8;
        updateUI();
    }

    function sabotage() {
        tilt += 20;
        readiness -= 15;
        statusText.innerText = "âš  Sleeper suspected!";
        updateUI();
    }

    function rebalance() {
        tilt *= 0.5;
        readiness += 5;
        updateUI();
    }

    function startVoyage() {
        if (readiness <= 0 || Math.abs(tilt) > 45) {
            statusText.innerText = "ðŸ’¥ Vehicle Destroyed â€” Sleeper Wins";
        } else {
            statusText.innerText = "ðŸš€ Escape Successful â€” Crew Wins";
        }
    }

    function changeMap(map) {
        if (map === "void") {
            document.body.style.background = "#111";
        }
        if (map === "storm") {
            document.body.style.background = "linear-gradient(#222,#555)";
            readiness -= 10;
        }
        if (map === "junk") {
            document.body.style.background = "linear-gradient(#000,#330000)";
            tilt += 10;
        }
        updateUI();
    }

    function updateStreak() {
        const today = new Date().toDateString();
        const lastDay = localStorage.getItem("lastDay");
        let streak = Number(localStorage.getItem("streak")) || 0;

        if (lastDay !== today) {
            streak = lastDay ? streak + 1 : 1;
            localStorage.setItem("lastDay", today);
            localStorage.setItem("streak", streak);
        }

        document.getElementById("streakText").innerText =
            "ðŸ”¥ Daily Awareness Streak: " + streak + " days";
    }

    updateStreak();
    updateUI();
</script>

</body>
</html>
